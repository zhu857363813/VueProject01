webpackJsonp([1],{"2udl":function(t,e,n){t.exports=n.p+"static/img/photo1.21a6085.png"},"36QE":function(t,e){},"4ml/":function(t,e){},"8WRN":function(t,e){},M93x:function(t,e,n){"use strict";var a=n("xJD8"),r=n.n(a),s=n("zlYL");var i=function(t){n("cBOq")},o=n("VU/8")(r.a,s.a,!1,i,null,null);e.default=o.exports},MRmP:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("M93x"),s=n("/ocq"),i=n("Gu7T"),o=n.n(i),c=n("Xxa5"),l=n.n(c),u=n("exGp"),p=n.n(u),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar"},[this._m(0),this._v(" "),e("div",[e("p",[e("van-icon",{staticClass:"ipt-icon",attrs:{name:"search"}})],1)]),this._v(" "),this._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n("TrFT"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:n("2udl"),alt:""}}),this._v(" "),e("p",[this._v("下载 App")])])}]};var m=n("VU/8")({},d,!1,function(t){n("iXwr")},null,null).exports,v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:function(e){return t.$router.push("/article/"+t.detailitem.id)}}},[n("div",{staticClass:"detailItem"},[n("div",{staticClass:"imgparent"},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.detailitem.img,alt:""}}),t._v(" "),n("span",{staticClass:"video"},[t._v("1233")]),t._v(" "),n("span",{staticClass:"comment"},[t._v(t._s(t.detailitem.commentlen))])]),t._v(" "),n("p",[t._v(t._s(t.detailitem.name))])])])},staticRenderFns:[]};var f=n("VU/8")({props:["detailitem"]},v,!1,function(t){n("pbcG")},null,null).exports,h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[n("p",{staticClass:"p",on:{click:function(e){return t.$router.push({path:"/"})}}},[n("span",{staticClass:"user-text"},[t._v("首页")])]),t._v(" "),n("p",{staticClass:"p",on:{click:function(e){return t.$router.push({path:"/home"})}}},[n("span",{staticClass:"user-text"},[t._v("学习视频")])]),t._v(" "),n("p",{staticClass:"p",on:{click:function(e){return t.$router.push({path:"/userinfo"})}}},[n("span",{staticClass:"user-text"},[t._v("我的信息")])])])},staticRenderFns:[]};var g=n("VU/8")({},h,!1,function(t){n("36QE")},null,null).exports,_={data:function(){return{category:[],active:0}},components:{NavBar:m,Detail:f,TabBar:g},methods:{selectCategory:function(){var t=this;return p()(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/category");case 2:n=e.sent,t.changeCategory(n.data);case 4:case"end":return e.stop()}},e,t)}))()},changeCategory:function(t){var e=t.map(function(t,e){return t.list=[],t.page=0,t.finished=!1,t.loading=!1,t.pagesize=10,t});this.category=e},selectActicle:function(){var t=this;return p()(l.a.mark(function e(){var n,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.categoryItem(),e.next=3,t.$http.get("/detail/"+a._id,{params:{page:a.page,pagesize:a.pagesize}});case 3:r=e.sent,(n=a.list).push.apply(n,o()(r.data)),a.loading=!1,r.data.length<a.pagesize&&(a.finished=!0);case 7:case"end":return e.stop()}},e,t)}))()},onLoad:function(){var t=this,e=this.categoryItem();setTimeout(function(){e.page+=1,t.selectActicle()},1e3)},categoryItem:function(){return this.category[this.active]}},watch:{active:function(){this.selectActicle()}},created:function(){this.selectCategory(),console.log(this.$route)}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("nav-bar"),t._v(" "),n("van-tabs",{attrs:{sticky:"",swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.category,function(e,a){return n("van-tab",{key:a,attrs:{title:e.title}},[n("van-list",{attrs:{"immediate-check":!1,finished:e.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:e.loading,callback:function(n){t.$set(e,"loading",n)},expression:"item.loading"}},[n("div",{staticClass:"detailparent"},t._l(e.list,function(t,e){return n("detail",{key:e,staticClass:"detailitem",attrs:{detailitem:t}})}),1)])],1)}),1),t._v(" "),n("tab-bar")],1)},staticRenderFns:[]};var x=n("VU/8")(_,b,!1,function(t){n("imPX")},null,null).exports,$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"LoginTop"},[e("div"),this._v(" "),e("div",[this._v(this._s(this.middleTop))]),this._v(" "),e("div",[this._t("right")],2)])},staticRenderFns:[]};var w=n("VU/8")({props:["middleTop"]},$,!1,function(t){n("o1o8")},null,null).exports,k={data:function(){return{content:""}},props:["label","type","placeholder","rule"],methods:{handlerulg:function(){new RegExp(this.rule).test(this.content)&&this.$emit("inputChange",this.content)}},watch:{content:function(){this.handlerulg()}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-field",{attrs:{label:t.label,type:t.type,placeholder:t.placeholder,rule:t.rule},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},staticRenderFns:[]};var y=n("VU/8")(k,C,!1,function(t){n("Qrqm")},null,null).exports,E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btnparent",on:{click:this.registerClick}},[e("div",{staticClass:"loginbtn"},[this._v(this._s(this.btntext))])])},staticRenderFns:[]};var S=n("VU/8")({props:["btntext"],methods:{registerClick:function(){this.$emit("registerSubmit")}}},E,!1,function(t){n("8WRN")},null,null).exports,j={data:function(){return{model:{name:"",username:"",password:""}}},components:{LoginTop:w,LoginText:y,LoginBtn:S},methods:{registerSubmit:function(){var t=this;return p()(l.a.mark(function e(){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=/^.{6,16}$/).test(t.model.name)&&n.test(t.model.username)&&n.test(t.model.password))){e.next=11;break}return e.next=4,t.$http.post("/register",t.model);case 4:a=e.sent,t.$msg.fail(a.data.msg),localStorage.setItem("id",a.data.id),localStorage.setItem("token",a.data.objtoken),setTimeout(function(){t.$router.push("/userinfo")},1e3),e.next=12;break;case 11:t.$msg.fail("格式不正确，重新输入");case 12:case"end":return e.stop()}},e,t)}))()}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("login-top",{attrs:{middleTop:"注册用户"}},[n("div",{attrs:{slot:"right"},on:{click:function(e){return t.$router.push({path:"/Login"})}},slot:"right"},[t._v("切换到登录")])]),t._v(" "),n("login-text",{staticStyle:{margin:"4.167vw 0"},attrs:{label:"姓名",placeholder:"请输入姓名",rule:"^.{6,16}$"},on:{inputChange:function(e){return t.model.name=e}}}),t._v(" "),n("login-text",{attrs:{label:"账号",placeholder:"请输入账号",rule:"^.{6,16}$"},on:{inputChange:function(e){return t.model.username=e}}}),t._v(" "),n("login-text",{attrs:{label:"密码",placeholder:"请输入密码",type:"password",rule:"^.{6,16}$"},on:{inputChange:function(e){return t.model.password=e}}}),t._v(" "),n("login-btn",{attrs:{btntext:"注册"},on:{registerSubmit:t.registerSubmit}})],1)},staticRenderFns:[]};var R=n("VU/8")(j,T,!1,function(t){n("y360")},null,null).exports,I={data:function(){return{model:{username:"",password:""}}},components:{LoginTop:w,LoginText:y,LoginBtn:S},methods:{registerSubmit:function(){var t=this;return p()(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.model.username||!t.model.password){e.next=12;break}return e.next=3,t.$http.post("/login",t.model);case 3:if(n=e.sent,t.$msg.fail(n.data.msg),301!=n.data.code&&302!=n.data.code){e.next=7;break}return e.abrupt("return");case 7:localStorage.setItem("token",n.data.token),localStorage.setItem("id",n.data.id),setTimeout(function(){t.$router.push("/userinfo")},1e3),e.next=13;break;case 12:t.$msg.fail("格式不正确，重新输入");case 13:case"end":return e.stop()}},e,t)}))()}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("login-top",{attrs:{middleTop:"登录用户"}},[n("div",{attrs:{slot:"right"},on:{click:function(e){return t.$router.push({path:"/register"})}},slot:"right"},[t._v("切换到注册")])]),t._v(" "),n("login-text",{staticStyle:{margin:"4.167vw 0"},attrs:{label:"账号",placeholder:"请输入账号",rule:"^.{6,16}$"},on:{inputChange:function(e){return t.model.username=e}}}),t._v(" "),n("login-text",{attrs:{label:"密码",placeholder:"请输入密码",type:"password",rule:"^.{6,16}$"},on:{inputChange:function(e){return t.model.password=e}}}),t._v(" "),n("login-btn",{attrs:{btntext:"登录"},on:{registerSubmit:t.registerSubmit}})],1)},staticRenderFns:[]};var F=n("VU/8")(I,U,!1,function(t){n("jnHv")},null,null).exports,B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"userdetail"},[this._m(0),this._v(" "),e("div",[e("h2",[this._v(this._s(this.userInfo.name))]),this._v(" "),e("p",[this._v("这个人很神秘，什么都没留下")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"user_img"},[a("img",{attrs:{src:n("2udl"),alt:""}})]),t._v(" "),a("div",{staticClass:"user_edit"},[a("div",[a("p",[a("span",[t._v("0")]),t._v(" "),a("span",{staticClass:"user-text"},[t._v("粉丝")])]),t._v(" "),a("p",[a("span",[t._v("0")]),t._v(" "),a("span",{staticClass:"user-text"},[t._v("关注")])]),t._v(" "),a("p",[a("span",[t._v("0")]),t._v(" "),a("span",{staticClass:"user-text"},[t._v("获赞")])])]),t._v(" "),a("div",[a("div",{staticClass:"user-editBtn"},[t._v("编辑资料")])])])])}]};var V={data:function(){return{model:{}}},components:{NavBar:m,userDetail:n("VU/8")({props:["userInfo"]},B,!1,function(t){n("UxBn")},null,null).exports,TabBar:g},methods:{UserinfoData:function(){var t=this;return p()(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/"+localStorage.getItem("id"));case 2:n=e.sent,t.model=n.data[0];case 4:case"end":return e.stop()}},e,t)}))()}},created:function(){this.UserinfoData()}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"userinfo"},[e("nav-bar"),this._v(" "),e("img",{staticClass:"backiImg",attrs:{src:n("akZp"),alt:""}}),this._v(" "),e("user-detail",{attrs:{userInfo:this.model}}),this._v(" "),e("tab-bar")],1)},staticRenderFns:[]};var q=n("VU/8")(V,L,!1,function(t){n("dWRQ")},null,null).exports,D={data:function(){return{model:null}},components:{NavBar:m},methods:{articleitemData:function(){var t=this;return p()(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/article/"+t.$route.params.id);case 2:n=e.sent,t.model=n.data[0];case 4:case"end":return e.stop()}},e,t)}))()},commendData:function(){var t=this;return p()(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/commend");case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}},e,t)}))()}},created:function(){this.articleitemData(),this.commendData(),console.log(this.$route)}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.model?n("div",[n("nav-bar"),t._v(" "),n("div",{staticClass:"detailinfo"},[n("div",{staticClass:"video"},[n("video",{attrs:{controls:"controls",src:t.model.content}}),t._v(" "),n("div",[t._v(t._s(t.model.name))])])])],1):t._e()},staticRenderFns:[]};var z=n("VU/8")(D,N,!1,function(t){n("fojw")},null,null).exports,A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper"},[e("van-swipe",{attrs:{autoplay:5e3,loop:!1,"indicator-color":"#fff"}},this._l(this.SwiperImg,function(t,n){return e("van-swipe-item",{key:n},[e("img",{staticClass:"swiperImg",attrs:{src:t}})])}),1)],1)},staticRenderFns:[]};var M={components:{NavBar:m,MySwiper:n("VU/8")({name:"swiper",data:function(){return{SwiperImg:["https://m.360buyimg.com/mobilecms/s750x366_jfs/t1/39343/4/1551/48272/5cbd71f4E329401dc/579b33f530a1402d.jpg!cr_1125x549_0_72!q70.jpg.dpg","https://m.360buyimg.com/mobilecms/s750x366_jfs/t1/34869/14/3703/113972/5cb953c1E4294d8ea/b73c538710f5c462.jpg!cr_1125x549_0_72!q70.jpg.dpg","https://m.360buyimg.com/mobilecms/s750x366_jfs/t1/39343/4/1551/48272/5cbd71f4E329401dc/579b33f530a1402d.jpg!cr_1125x549_0_72!q70.jpg.dpg","https://m.360buyimg.com/mobilecms/s750x366_jfs/t1/34729/14/3948/120618/5cbeee07Efbe17ec5/d57ddd4fbbbc09e0.jpg!cr_1125x549_0_72!q70.jpg.dpg","https://m.360buyimg.com/mobilecms/s750x366_jfs/t1/34423/17/5378/97852/5cbecd7bE73730c2f/76e5359d8fb3a1e1.jpg!cr_1125x549_0_72!q70.jpg.dpg"]}},components:{},methods:{}},A,!1,function(t){n("STaZ")},"data-v-205a5ed8",null).exports,TabBar:g}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav-bar"),this._v(" "),e("my-swiper"),this._v(" "),e("tab-bar")],1)},staticRenderFns:[]};var Q=n("VU/8")(M,P,!1,function(t){n("MRmP")},null,null).exports;a.a.use(s.a);var W=new s.a({routes:[{path:"/",component:Q,meta:{keepalive:!0}},{path:"/register",component:R},{path:"/Login",component:F},{path:"/userinfo",component:q,meta:{istoken:!0}},{path:"/article/:id",component:z},{path:"/Home",component:x}]});W.beforeEach(function(t,e,n){localStorage.getItem("token")||localStorage.getItem("id")||1!=t.meta.istoken?n():W.push("/login")});var H=W,X=n("Fd2+"),G=(n("4ml/"),n("mtWM"));const Z=n.n(G).a.create({baseURL:"http://112.74.99.5:3000/web/api"});Z.interceptors.request.use(function(t){return localStorage.getItem("token")&&localStorage.getItem("id")&&(t.headers.Authorization="Bearer "+localStorage.getItem("token")),t},function(t){return Promise.reject(t)}),Z.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)});var J=Z;a.a.prototype.$http=J,a.a.prototype.$msg=X.a,a.a.use(X.b),a.a.config.productionTip=!1,new a.a({el:"#app",router:H,components:{App:r.default},template:"<App/>"})},Qrqm:function(t,e){},STaZ:function(t,e){},TrFT:function(t,e,n){t.exports=n.p+"static/img/logo1.90e7b7d.png"},UxBn:function(t,e){},akZp:function(t,e,n){t.exports=n.p+"static/img/bannerTop.f683037.jpg"},cBOq:function(t,e){},dWRQ:function(t,e){},fojw:function(t,e){},iXwr:function(t,e){},imPX:function(t,e){},jnHv:function(t,e){},o1o8:function(t,e){},pbcG:function(t,e){},xJD8:function(t,e){},y360:function(t,e){},zlYL:function(t,e,n){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[this.$route.meta.keepalive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepalive?this._e():e("router-view")],1)},staticRenderFns:[]};e.a=a}},["NHnr"]);
//# sourceMappingURL=app.6554bf19f2b52debce28.js.map